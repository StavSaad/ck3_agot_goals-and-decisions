gad_create_d_sea_of_dorne_scripted_effect = {
	scope:founder = {
		title:c_ghaston_grey = { set_de_jure_liege_title = title:d_sea_of_dorne }
		title:c_tallor_islands = { set_de_jure_liege_title = title:d_sea_of_dorne }
		title:c_wrathrock = { set_de_jure_liege_title = title:d_sea_of_dorne }
		title:c_severisles = { set_de_jure_liege_title = title:d_sea_of_dorne }
		create_title_and_vassal_change = {
			type = created
			save_scope_as = change
			add_claim_on_loss = no
		}
		title:d_sea_of_dorne= {
			change_title_holder = {
				holder = scope:founder
				change = scope:change
			}
		}
		resolve_title_and_vassal_change = scope:change
		hidden_effect = {
			if = {
				limit = { primary_title.tier <= tier_duchy }
				set_primary_title_to = title:d_sea_of_dorne
			}
			if = {
				limit = {
					gad_has_petty_kingdoms_shatter_rule = yes
					OR = {
						liege = {
							OR = {
								has_title = title:k_tarth
								any_vassal_or_below = {
									has_title = title:k_tarth	
								}
							}
						}
						has_title = title:k_tarth
					}
				}
				title:d_sea_of_dorne = { set_de_jure_liege_title = title:k_tarth }
			}
			else_if = {
				limit = {
					gad_has_petty_kingdoms_shatter_rule = yes
				}
				title:d_sea_of_dorne = { set_de_jure_liege_title = title:k_yronwood }
			}
			else_if = {
				limit = { 
					OR = {
						has_title = k_the_stormlands
						liege = {
							OR = {
								has_title = k_the_stormlands
								any_vassal_or_below = {
									has_title = k_the_stormlands
								}
							}
						}
					}
				}
				title:d_sea_of_dorne = { set_de_jure_liege_title = title:k_the_stormlands }
			}
			else = {
				title:d_sea_of_dorne = { set_de_jure_liege_title = title:k_dorne }
			}
		}
	}
}

gad_expand_k_tarth_scripted_effect = {
	scope:founder = {
		if = {
			limit = {
				NOT = {
					is_target_in_global_variable_list = {
						name = unavailable_unique_decisions
						target = flag:gad_create_d_sea_of_dorne_decision
					}
				}
			}
			gad_create_d_sea_of_dorne_scripted_effect = yes
		}
	}
}

gad_proclaim_e_narrow_sea_effect = {
	scope:founder = {
		hidden_effect = {
			if = {
				limit = {
					has_title = title:k_dragonstone
				}
				title:k_dragonstone = {
					set_de_jure_liege_title = title:e_narrow_sea
				}
			}
	
			if = {
				limit = {
					has_title = title:k_tarth
				}
				title:k_tarth = {
					set_de_jure_liege_title = title:e_narrow_sea
				}
			}
	
			if = {
				limit = {
					has_title = title:k_the_stepstones
				}
				title:k_the_stepstones = {
					set_de_jure_liege_title = title:e_narrow_sea
				}
			}
	
			if = {
				limit = {
					has_title = title:k_lys
				}
				title:k_lys = {
					set_de_jure_liege_title = title:e_narrow_sea
				}
			}
	
			if = {
				limit = {
					has_title = title:k_tyrosh
				}
				title:k_tyrosh = {
					set_de_jure_liege_title = title:e_narrow_sea
				}
			}
		}
	
		title:e_narrow_sea = {
			create_title_and_vassal_change = {
				type = created
				save_scope_as = change_it
				add_claim_on_loss = no
			}
			change_title_holder = {
				holder = root
				change = scope:change_it
			}
			resolve_title_and_vassal_change = scope:change_it
			hidden_effect = {
				copy_title_history = root.primary_title
			}
		}
	
		add_prestige = 3500
		dynasty = { add_dynasty_prestige = 1900 }
		add_legitimacy = 1500 #Max Legitimacy
		add_dread = 100
		add_tyranny	= -35
		gain_legitimizing_legend_seed_tooltip_effect = yes
		give_nickname = nick_of_the_narrow_sea
	}
}